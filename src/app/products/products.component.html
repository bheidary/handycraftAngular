<p>
  {{latSearch}}
</p>
<p>
  {{priceSearchMin}}
</p>
<p>
  {{priceSearchMax}}
</p>
<p>
  {{productDateInSearch}}
</p>
<p>
  {{productDateInSearch2}}
</p>
<p>
  {{categorySearch}}
</p>


<!--filter-->
<div class="card" id="rad">
  <div class="card-body">
    <form #f="ngForm" >
      <div class="row ">
        <!--Place-->
        <div class="col-lg-3 ">
          <input type="text" class="form-control" [(ngModel)]="productDateInSearch2" [(value)]="productDateInSearch2">
          <mat-form-field>
            <mat-select [(ngModel)]="latSearch" name="Place" placeholder="Location">
              <mat-option value="">All Location</mat-option>
              <mat-option *ngFor="let lat of lats$ " [value]="lat.lat">{{lat.lat}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <!--Price-->
        <div class="col-lg-3 ">
          <ng5-slider [(ngModel)]="priceSearchMin" [(value)]="priceSearchMin" [(highValue)]="priceSearchMax" [options]="options"></ng5-slider>
        </div>
        <!--Sort By-->
        <div class="col-lg-3 ">
          <mat-form-field>
            <input matInput [(ngModel)]="productDateInSearch" [(value)]="productDateInSearch" [matDatepicker]="picker" placeholder="Choose a date"
                   (dateInput)="addEvent('input', $event)"
            >
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </div>
        <!--Category-->
        <div class="col-lg-3 ">
          <mat-form-field>
            <mat-select [(ngModel)]="categorySearch" name="categorySearch" matNativeControl  placeholder="Category">
              <mat-option value="">All Category</mat-option>
              <mat-option *ngFor="let cat of categories$ " [value]="cat.category">{{cat.category}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
    </form>
    </div>
</div>
<!--filter-->
<br>
<div class="d-flex justify-content-between"  style="background-color: #69f0ae">
  <div class="p-1">
    <font color="white"><h3><strong>
      <!--<span *ngIf="locationDat">{{locationDat['city'].names['en']}}, {{ this.locationDat['subdivisions'][0].names['en']}}</span>-->

    </strong></h3></font>
  </div>
  <div class="p-1">
    <a href="#" class="alert-link">
      <img src="assets/images/logo/googleplay.jpg" style="width: 110px;height: 35px; margin-right: 30px"/>
    </a>
    <a href="#" class="alert-link">
      <img src="assets/images/logo/appstore.png" style="width: 110px;height: 35px"/>
    </a>
  </div>
  <div class="p-1"></div>
</div>
<br>
<!--<div class="d-flex justify-content-between" >-->
<!--</div>-->
<br>
<mat-chip-list>
  <mat-chip color="accent" selected *ngIf="categorySearch">{{categorySearch }}</mat-chip>
</mat-chip-list>
<!--for-->
<div class="row card-container">
      <ng-container *ngFor="let p of products | searchUser: latSearch: categorySearch: priceSearchMin: priceSearchMax: productDateInSearch: productDateInSearch2 ; let i= index ">
    <div class="col-lg-3 col-sm-6 col-xs-12">
      <div
        class="card" style="width: 100%;">
        <img class="card-img-top"  [src]="p.image" onError="this.src='../../assets/images/product.jpg';" alt="Pic Product" [routerLink]="['/products/details',p.productID]">
        <div class="card-body">
          <div class="row">
            <div class="col-3">
                <mat-icon *ngIf="compareDates(p.productDateIn)" color="warn">fiber_new</mat-icon>
              <!--{{p.productDateIn}}-->
              <!--{{newdate2|date}}-->
              <!--<mat-icon color="warn">high_quality</mat-icon>-->
              <!--<h5 class="card-title">{{p.name}}</h5>-->
              <!--<p class="card-text">{{p.price }}  SEK</p>-->
            </div>
            <div class="col">
              <div class="text-warning">
                <ng-template #t let-fill="fill">
                  <span class="star" [class.full]="fill === 100"><span class="half" [style.width.%]="fill">&#9733;</span>&#9733;</span>
                </ng-template>
                <ngb-rating [(rate)]="p.rating" [starTemplate]="t" [readonly]="true" max="5"></ngb-rating>
              </div>
              <!--<span class="star" [class.full]="fill === 100"><span class="half" [style.width.%]="fill">&#9733;</span>&#9733;</span>-->
              <!--<ngb-rating [(rate)]="RateNumber" [starTemplate]="t" [readonly]="true" max="5"></ngb-rating>-->
            </div>
            <div clas="col-4">
              <a [routerLink]="['/products/sellerproducts',p.sellerID]">

              <img id="userImage" [src]="p.sellerImageLink  "   class="img-fluid" alt="Responsive image"
                   alt="Avatar"/>
              </a>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <h5 class="card-title">{{p.name}}</h5>
            </div>
          </div>
          <div class="row">
            <div class="col-8">
              <h4 class="card-text card-price">{{p.price }}  SEK</h4>
            </div>
          </div>
          </div>

      </div>
    </div>
    <div *ngIf="(i+1)%4===0" class="min-vw-100 py-3"></div>
  </ng-container>
</div>
<!--for-->


